# 版本控制

要开发一个项目，就会遇到多人协作和版本控制。

在项目中的管理对象是数据模型，表现为 json 文档。数据模型的存储方式又分为结构化版和 json 版。

## 开发阶段

项目中的文档或模块的演变分三个阶段：

1. 修订阶段，当新建一个文档，或者修改已存在的文档，则就会进入修订模式
2. 已接受修订阶段，执行提交操作后或接受修订后，则此内容就可以打标签
3. 打了标签阶段，所有的发布，都是基于打标签的内容的

用户新建一个文档，则处于`修订`阶段，当接受修订后，内容就会合并到项目中。
开发阶段的数据模型是以结构化的形式存储在数据库中的，只存储最新版的模型。

所有修订内容都是以结构化的形式存储在数据库中，如果“接受修订”，则 commit 到 git 仓库的 master 分支。
而需要发布时，就为项目打上标签。

操作流程为：保存(save) -> 提交(commit) -> 打标签(tag)

TODO: 如何以增量形式发布呢？

## 发布阶段

发布时是基于存储在 git 仓库中 tag 下的内容。

## 生产运行阶段

生产运行阶段，所有的模型数据是存储在数据库中的，所以在升级 APP 中，有一个内容就是同步模型数据。