# 权限

## 项目的权限

登录用户对项目拥有四种权限：`禁止访问`、`只读`、`可写`、`管理`。

项目分两大类：`公开`、`私有`。

权限关系为：

1. 匿名用户对公开项目有`只读`权限
2. 登录用户对他人创建项目有`只读`权限
3. 项目的创建者，默认对项目有`管理`权限
4. 对项目有`管理`权限的用户，可为其他用户授予项目的`可写`和`管理`权限

### 页面及操作的访问权限

如果用户对页面中的某个操作没有权限，则要让该操作隐藏或失效。

1. 浏览项目：
   1. 显示“编辑和提交按钮组” (`可写`)
   2. 激活“创建页面按钮” (`可写`)
   3. 激活“创建分组按钮” (`可写`)
   4. 激活“发布按钮” (`可写`)
   5. 激活“部署按钮” (用户登录、`只读`)
1. 创建页面：
   1. 显示该页面 (`可写`)
1. 创建分组：
   1. 显示该页面 (`可写`)
1. 显示发行版列表：
   1. 显示该页面 (`可读`)
   2. 显示“创建发行版按钮” (`可写`)
1. 创建发行版：
   1. 显示该页面 (`可写`)

### 页面中的权限

页面中的权限，是对上述项目四大权限的具体化

1. canNewPage：登录用户对项目拥有`可写`或`管理`权限
2. canNewGroup：登录用户对项目拥有`可写`或`管理`权限
3. canRelease：登录用户对项目拥有`可写`或`管理`权限
4. canInstall：登录用户对项目拥有`只读`权限
5. canCommit：登录用户对项目拥有`可写`或`管理`权限

### 如何实现

1. 在获取项目基本信息的 [REST API](../API/projects/project/get-a-project.md) 中增加一个 `accessLevel` 字段
2. 在客户端提供 `canXxx` 工具方法进行权限判断
